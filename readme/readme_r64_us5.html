<HTML>
<HEAD>
<!-- Created with DOC2HTML, v610 (12/21/2006) -->
<title>Ingres® 10.0 for IBM AIX (r64.us5)</title>
<META HTTP-EQUIV="Content-Type" Content="text-html; charset=utf-8">
<style>
<!--
A:link                       { text-decoration: underline; font-weight: bold; color: #336699  }
A:visited                    { text-decoration: underline; font-weight: bold; color: #336699  }
BODY                         { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-size: 80%; font-weight: normal; color: 00000  }
TABLE                        { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-size: 100%; color: 000000; }
P                            { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-weight: normal; color: #000000  }
H1                           { font-size: 180%; font-weight: bold; color: #336699  }
H2                           { font-size: 155%; font-weight: normal; font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; color: #336699  }
H3                           { font-size: 130%; font-weight: bold; font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; color: #336699  }
H4                           { font-size: 130%; font-weight: bold; font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; color: #336699  }
ol, ul ol, ul ul ol          { list-style-type: decimal; list-style-image : none; }
ol ol, ul ol ol, ol ul ol    { list-style-type: lower-alpha; list-style-image: none; }
ul, ol ul, ol ol ul          { list-style-type: disc; list-style-image: none; }
ul ul, ol ul ul, ul ol ul    { list-style-type: circle; list-style-image: none;}
ul ul ul                     { list-style-type: square; list-style-image: none; }
ol ol ol                     { list-style-type: upper-roman; list-style-image: none; }
B                            { font-weight: bold  }
STRONG                       { font-weight: bold  }
I                            { font-style: italic  }
EM                           { font-style: italic  }
INPUT                        { color: #336699; font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-size: 90%; } /* Special */
TEXTAREA                     { color: #336699; font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-size: 90%; } /* Special */
BLOCKQUOTE                   { font-size: 80%; }
PRE                          { font-family: "courier new", courier, monospace; font-size: 100%  }
table, td                    { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-weight: normal; color: #000000; vertical-align: top; border: 1px solid #EBEBEB; border-collapse: collapse; font-size: 12px; padding: 2px;}
table.invis, td.invis        { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-weight: normal; color: #000000; vertical-align: middle; border: 0px; border-collapse: collapse; font-size: 12px; padding: 2px;}
th                           { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; font-weight: bold; color: #000000; vertical-align: top; border: 1px solid #FFFFFF; background-color: #006699; color:#FFFFFF; text-align: left; padding: 2px;}
tr.alt                       { background-color : #F1F5FA;}
.computerassoc               { font-family: Verdana, "Bitstream Vera Sans", Arial, Helvetica, Sans Serif; color: #FFFFFF; text-decoration: none; background-color: #336699; font-size: 130%; font-weight: bold; }
hr                           { color: #CCCCCC; height:1px; }
-->
</style>
</HEAD>
<BODY>
<table width="100%"  border="0" cellspacing="0" cellpadding="0"><tr><td class="computerassoc">Ingres Corporation</td></tr></table>
<h1><a name="ingres_10_0_for_ibm_aix_r64_us5">Ingres<sup>®</sup> 10.0 for IBM AIX (r64.us5)</a></h1>
<p>
<hr>
<nobr>
<p><b><a href="#welcome">1.0  Welcome</a></b>
<p><b><a href="#operating_system_support">2.0  Operating System Support</a></b>
<br><a href="#preprocessor_and_compiler_support">2.1  Preprocessor and Compiler Support</a>
<p><b><a href="#system_requirements">3.0  System Requirements</a></b>
<br><a href="#disk_space_requirements">3.1  Disk Space Requirements</a>
<br><a href="#memoryuse_user_soft_limit">3.2  Memoryuse User Soft Limit</a>
<p><b><a href="#installation_considerations">4.0  Installation Considerations</a></b>
<br><a href="#shared_library_path">4.1  Shared Library Path</a>
<br><a href="#syscheck_v">4.2  Syscheck -v</a>
<br><a href="#visual_tools">4.3  Visual Tools</a>
<br><a href="#protocols_supported">4.4  Protocols Supported</a>
<br><a href="#ingres_abf_and_fortran">4.5  Ingres/ABF and Fortran</a>
<br><a href="#operating_system_threads">4.6  Operating System Threads</a>
<br><a href="#64_bit_embedded_sql_and_embedded_quel_fortran_applications">4.7  64-Bit Embedded SQL and Embedded QUEL Fortran Applications</a>
<br><a href="#64_bit_embedded_forms">4.8  64-Bit Embedded Forms</a>
<br><a href="#upgrade_from_32_bit_to_this_version_of_ingres">4.9  Upgrade from 32-Bit to this Version of Ingres</a>
<br><a href="#upgrade_from_ingres_2_5_64_bit_to_ingres_10_0_on_aix">4.10  Upgrade from Ingres 2.5 64-Bit to Ingres 10.0 on AIX</a>
<br><a href="#remove_unused_modules_in_kernel_and_library_memory_before_upgrade">4.11  Remove Unused Modules in Kernel and Library Memory Before Upgrade</a>
<br><a href="#configuration_of_32_bit_ingres_on_aix_large_address_space_model">4.12  Configuration of 32-bit Ingres on AIX—Large Address Space Model</a>
</nobr>
<p>
<hr>
<h2><a name="welcome">1.0  Welcome</a></h2>
<p>This readme contains information specific to Ingres<sup>®</sup>
running under IBM AIX.
<p>
<hr>
<h2><a name="operating_system_support">2.0  Operating System Support</a></h2>
<p>This release contains 32-bit and 64-bit support and
supersedes earlier 32-bit “rs4.us5” and 64-bit “r64.us5”
releases.
<p>Ingres 32-bit and 64-bit for AIX is supported on the
following operating systems:  
<ul>
<p><li>AIX 5L v5.1
<p><li>AIX 5L v5.2
<p><li>AIX 5L v5.3
<p><li>AIX 6.1
</ul>
<p>The Ingres product support life cycle policy determines the
duration of support for Ingres on these operating systems
unless the operating system's manufacturer drops support on
a prior date. For the latest information about supported
operating systems, visit <a href="http://ingres.com/support" target="_blank">http://ingres.com/support</a>.
<p>For AIX 5L v5.1, patch level 2 should be applied.
<p>For AIX v5.2, OS patch bos.rte.edit.5.2.0.11 (ptf #U489942)
should be applied. Patches to AIX are available to download
from the IBM site <a href="https://techsupport.services.ibm.com" target="_blank">https://techsupport.services.ibm.com</a>  by
following the links for UNIX Servers.
<p>To check if a 64-bit kernel is running on AIX, issue the
following command as root:
<pre>
bootinfo –K
</pre>
<p>If the return from the command is “64”, then a 64-bit
kernel is running.
<p>
<hr>
<h3><a name="preprocessor_and_compiler_support">2.1  Preprocessor and Compiler Support</a></h3>
<ul>
<p><li>Micro Focus Server Express COBOL v5.0
<p><li>IBM AIX XL Fortran 12.1
<p><li>IBM XL C/C++ 7, 8, 9 and 10.1
<p><li>IBM VisualAge 6 <br>
(Minimum patch levels for VisualAge 6 are: C for AIX patch
level 6, C++ patch level 6.)
</ul>
<p>Ingres uses functions from the pthread library
(libpthreads) and the reentrant C library (libc_r).  Any
application using Ingres functions, including existing
applications must provide an appropriate runtime
environment. C applications should comply with the compiler
directives: -qansialias and –D_THREAD_SAFE. Link your
application with the reentrant C runtime start-up routine
(/lic/crt0_r.o) and the libraries –lc_r and –lpthreads. See
the configuration files (such as vac.cfg) in /etc directory
for details on stanza xlc_r.  
<p>Fortran and COBOL applications should follow their
compilers' instructions for creating applications that
exploit pthreads.
<p>Micro Focus COBOL clients should follow their compiler's
directions for using native AIX threads. 
<p>The 64-bit Ingres library must be used to build 64-bit user
applications (located in $II_SYSTEM/ingres/lib/lp64). The
<b>-q64</b> flag must also be specified as a compiler option. 
<p>
<hr>
<h2><a name="system_requirements">3.0  System Requirements</a></h2>
<p>
<hr>
<h3><a name="disk_space_requirements">3.1  Disk Space Requirements</a></h3>
<p>Ingres on IBM AIX has the following disk space
requirements:  
<p><table border>
<tr>
<th align=left valign=top>
System Configuration
</th>
<th align=left valign=top>
Space Required
</th>
</tr>
<tr>
<td>Client Only (Ingres Net) Install
</td>
<td>129 MB
</td>
</tr>
<tr class="alt">
<td>DBMS Server with Ingres Net Install
</td>
<td>214 MB
</td>
</tr>
<tr>
<td>Full installation
</td>
<td>267 MB
</td>
</tr>
</table>
<p>
<hr>
<h3><a name="memoryuse_user_soft_limit">3.2  Memoryuse User Soft Limit</a></h3>
<p>On AIX, the soft limit for memoryuse defaults to 32,768 KB.
It is necessary to increase this setting to unlimited by
adding an entry of “rss = -1” for ingres user in
/etc/security/limits file.  
<p>
<hr>
<h2><a name="installation_considerations">4.0  Installation Considerations</a></h2>
<p>
<hr>
<h3><a name="shared_library_path">4.1  Shared Library Path</a></h3>
<p>The library variable for IBM AIX 64-bit is <b>LIBPATH</b>.
<p>Examples:
<p>For C shell:  
<pre>
$ setenv LIBPATH "/lib:/usr/ccs/lib:$II_SYSTEM/ingres/lib:$LIBPATH"
</pre>
<p>For Bourne shell:
<pre>
% LIBPATH=/lib:/usr/ccs/lib:$II_SYSTEM/ingres/lib:$LIBPATH
% export LIBPATH
</pre>
<p>
<hr>
<h3><a name="syscheck_v">4.2  Syscheck -v</a></h3>
<p>A user can see file descriptor information by using:
<b>syscheck</b> <b>-v</b>. Use the following descriptions to interpret
the output:  
<p><b>System Hard Limit</b>—The absolute maximum number of open file
descriptors that the operating system will permit. On AIX,
this value is 2,147,483,647.  
<p><b>System Soft Limit</b>—The maximum number of open file
descriptors that a user session could conceivably get,
depending on how many open files other processes have at
that point in time. This value is 32,767. 
<p>
<hr>
<h3><a name="visual_tools">4.3  Visual Tools</a></h3>
<p>The Visual DBA suite is not included as part of the Ingres
10.0 for AIX. However, these tools can be deployed on a
Windows PC against an Ingres installation on AIX.
<p><b>Note:</b> Versions of VDBA prior to Ingres 2006 require a patch
in order to work against this release of Ingres.
<p>
<hr>
<h3><a name="protocols_supported">4.4  Protocols Supported</a></h3>
<p>TCP/IP Native
<p>
<hr>
<h3><a name="ingres_abf_and_fortran">4.5  Ingres/ABF and Fortran</a></h3>
<p>To build ABF/Fortran applications, add the Fortran
libraries to “abflnk.opt” and “abfdyn.opt.” The
“abflnk.opt” and “abfdyn.opt” files are located in the
$II_SYSTEM/ingres/files directory.
<p>If you develop some applications which use Fortran
procedures and some which do not, you can eliminate the
Fortran libraries from the *.opt files and create a new
option file with just the Fortran libraries. Then define
the environment variable ING_ABFOPT1 to point to the new
option file. If you are already using this environment
variable to point to an option file which includes your own
user libraries, you can add the Fortran libraries to your
existing files.  The benefit of this method is that you
will not link in the Fortran libraries if you are not using
Fortran procedures. Note also, for applications that are
linked with the shared Fortran system library (default),
you must include the location of that library in the search
path defined by the environment variable LIBPATH. 
<p>
<hr>
<h3><a name="operating_system_threads">4.6  Operating System Threads</a></h3>
<p>Ingres on AIX exploits Operating System (POSIX) threads.  
<p>
<hr>
<h3><a name="64_bit_embedded_sql_and_embedded_quel_fortran_applications">4.7  64-Bit Embedded SQL and Embedded QUEL Fortran Applications</a></h3>
<p>By default, the Fortran preprocessors esqlf and eqf
generate 32-bit source files. If you need to build 64-bit
applications, specify the option "-g64". For example:
<pre>
esqlf -g64 payroll.sf
</pre>
<p>
<hr>
<h3><a name="64_bit_embedded_forms">4.8  64-Bit Embedded Forms</a></h3>
<p>64-bit ABF and Embedded FRS application are not supported
with this release.  
<p>
<hr>
<h3><a name="upgrade_from_32_bit_to_this_version_of_ingres">4.9  Upgrade from 32-Bit to this Version of Ingres</a></h3>
<p>This version of Ingres gives you the choice to install the
32-bit or 64-bit version. If the 64-bit components are
selected for installation, prior 32-bit Ingres versions
will be upgraded to the 64-bit version of Ingres. For more
information on upgrading an Ingres instance, see the
<i>Migration Guide</i>.
<p>
<hr>
<h3><a name="upgrade_from_ingres_2_5_64_bit_to_ingres_10_0_on_aix">4.10  Upgrade from Ingres 2.5 64-Bit to Ingres 10.0 on AIX</a></h3>
<p>Ingres 2.5 64-bit can only run on AIX 4.3.x. Therefore,
unload/reload procedures for the Ingres databases must be
performed prior to upgrading to this version of Ingres. For
more information, see the <i>Migration Guide</i>.  
<p>
<hr>
<h3><a name="remove_unused_modules_in_kernel_and_library_memory_before_upgrade">4.11  Remove Unused Modules in Kernel and Library Memory Before Upgrade</a></h3>
<p>Before running ingbuild in an upgrade installation, run the
/usr/sbin/slibclean command as root. This removes any
unused object files from the kernel and library memory and
allows the old shared library files to be overwritten.
<p>
<hr>
<h3><a name="configuration_of_32_bit_ingres_on_aix_large_address_space_model">4.12  Configuration of 32-bit Ingres on AIX—Large Address Space Model</a></h3>
<p>To run 32-bit Ingres on AIX, additional parameters can be
set on AIX so that Ingres will properly handle the large
space requirement that is beyond the operating system
default.  
<p><b>Address Space in 32-bit iimerge</b>
<p>In the Ingres 10.0 distribution, the 32-bit iimerge is able
to address the data space up to 4 segments of 250 MB each.
However, this setting may need to be changed in some
installations. IBM provides the –bmaxdata parameter to
configure the data space. For details, refer to the IBM
documentation for Large Program Support in <i>General
Programming Concepts: Writing and Debugging Programs</i>.
<p>The recommended data segment number is in the range of 1 to
6. 
<p><b>To configure setting for iilink</b>
<ol>
<p><li>Run Configuration-By-Forms (CBF).
<p>Select the DBMS component, and then Configure.  
<p>Locate the row for image_data_segments. 
<p>Use the Edit function to set the segment number.
<p><li>Run iilink, specifying any additional parameters as
required:
<pre>
iilink
</pre>
</ol>
<p>If it is not possible to re-link the iimerge executable, as
an alternative, you can modify the iimerge binary by using
ldedit, or change the setting at runtime.
<p><b>To modify the iimerge binary by using ldedit command</b>
<p>
Example to set 5 data segments:  
<pre>
/usr/ccs/bin/ldedit –bmaxdata:0x50000000 $II_SYSTEM/ingres/bin/iimerge
</pre>
<p><b>To change the setting at runtime</b>
<ol>
<p><li>In the Ingres environment, use setenv or export to set the
following environment variable before starting Ingres:
<p>LDR_CNTRL to  'MAXDATA=0x50000000'  
<p>Doing so increases the addressing space during the load
time. It is equivalent to entering 5 as the number of image
data segments in CBF, which is used during the link time.
<p><b>Note:</b> The value 0x50000000 is used as an example only.
<p><li>Remove the LDR_CNTRL parameter after starting up the Ingres
servers; otherwise its setting will affect the load time of
every process.
</ol>
<p>Note the settings for the following AIX environment
variables or system parameters:  
<ul>
<p><li>XPG_SUS_ENV should be set to OFF or not set, so that
default AIX operating system behavior is used.
<p><li>EXTSHM should be set to OFF or not set, which is the
default AIX operating system setting.
</ul>
<p>
<hr>
<font size=-2>
Copyright © 2010 Ingres Corporation. All rights reserved.
</font>
</BODY>
</HTML>
